#!/bin/bash

invoke() {
  local task="$1"
  "bake_$task"
}

source Bakefile

if [ $# -eq 0 ]; then
  compgen -A function | grep '^bake_' | sed -e 's/^bake_/bake /'
  exit
fi

for task in "$@"; do
  invoke "$task"
done

