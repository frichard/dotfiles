#!/bin/bash

invoke() {
  local task="$1"

  echo "-> $task"
  "bake_$task"
}

source Bakefile

if [ -z "$@" ]; then
  compgen -A function | grep '^bake_' | sed -e 's/^bake_/bake /'
  exit
fi

for task in "$@"; do
  invoke "$task"
done

